# üõ∞Ô∏è Autonomous System Traceroute

## üìö –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —É—Ç–∏–ª–∏—Ç—É –Ω–∞ Python, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É –º–∞—Ä—à—Ä—É—Ç–∞ –¥–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ –∏–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ –Ω–∞ –ø—É—Ç–∏:

- IP-–∞–¥—Ä–µ—Å;
- –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (AS);
- —Å—Ç—Ä–∞–Ω–∞;
- –ø—Ä–æ–≤–∞–π–¥–µ—Ä (NetName).

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ —Å–µ—Ç—å, –ø–æ–Ω—è—Ç—å, —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –æ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç, –∏ –∫–∞–∫–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞—á–∏

**–ë–∞–∑–æ–≤–∞—è —Ü–µ–ª—å (8 –±–∞–ª–ª–æ–≤):**
- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É (`traceroute`) –¥–æ —É–∑–ª–∞.
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å IP-–∞–¥—Ä–µ—Å–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ –Ω–∞ –ø—É—Ç–∏.
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ "–±–µ–ª–æ–≥–æ" IP-–∞–¥—Ä–µ—Å–∞.

**–ü–æ–ª–Ω–∞—è —Ü–µ–ª—å (10 –±–∞–ª–ª–æ–≤):**
- –í—Å—ë –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–µ + –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:
  - —Å—Ç—Ä–∞–Ω—É;
  - –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

---

## üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `e1.ru` –∏–ª–∏ `8.8.8.8`).
2. –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç ICMP-–∑–∞–ø—Ä–æ—Å—ã –≤—Ä—É—á–Ω—É—é –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö —Å —Ä–∞–∑–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º TTL (Time-To-Live).
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç, –ø—Ä–æ–≥—Ä–∞–º–º–∞:
   - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –µ–≥–æ IP-–∞–¥—Ä–µ—Å;
   - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ IP "–±–µ–ª—ã–º" (–Ω–µ–ø—Ä–∏–≤–∞—Ç–Ω—ã–º);
   - –≤—ã–ø–æ–ª–Ω—è–µ—Ç WHOIS-–∑–∞–ø—Ä–æ—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
     - –Ω–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (AS),
     - —Å—Ç—Ä–∞–Ω—ã,
     - –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (NetName).
4. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
   ```
   +----+-----------------+----------+---------+----------+
   | ‚Ññ  | IP              | AS       | Country | Provider |
   +----+-----------------+----------+---------+----------+
   | 1  | *               | -        | -       | -        |
   | 2  | 195.19.220.24   | AS44310  | RU      | NGSNET   |
   +----+-----------------+----------+---------+----------+
   ```
5. –ï—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `*`.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–∞–∫–µ—Ç [`tabulate`](https://pypi.org/project/tabulate/)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install tabulate
```

### 3. –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å ICMP —á–µ—Ä–µ–∑ —Å—ã—Ä—ã–µ —Å–æ–∫–µ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–±—É–µ—Ç **–∑–∞–ø—É—Å–∫–∞ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**:

- **Windows**: –æ—Ç–∫—Ä–æ–π—Ç–µ `cmd.exe` –∏–ª–∏ `PowerShell` –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
- **Linux/macOS**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sudo`.

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

```bash
python a.py e1.ru
```

–ò–ª–∏:

```bash
python a.py 8.8.8.8
```

–ï—Å–ª–∏ –∞–¥—Ä–µ—Å –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `8.8.8.8` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

## üîç –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ–¥–∞

- `socket(..., SOCK_RAW, IPPROTO_ICMP)` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ ICMP-–ø–∞–∫–µ—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é.
- `package_assembly()` ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç IP-–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ ICMP-–∑–∞–ø—Ä–æ—Å.
- `recvfrom()` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç ICMP.
- `get_info()` ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç AS, —Å—Ç—Ä–∞–Ω—É –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ WHOIS.
- `tabulate()` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã.

---

## üß™ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
Tracing route to 195.19.220.24

+----+-----------------+----------+---------+----------+
| ‚Ññ  | IP              | AS       | Country | Provider |
+----+-----------------+----------+---------+----------+
| 1  | *               | -        | -       | -        |
| 2  | *               | -        | -       | -        |
| 3  | 195.19.220.24   | AS44310  | RU      | NGSNET   |
+----+-----------------+----------+---------+----------+
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ a.py         # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
‚îú‚îÄ‚îÄ README.md    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üöß –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ ICMP-–∑–∞–ø—Ä–æ—Å—ã ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ `*`.
- WHOIS-–¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–º–∏ –∏–ª–∏ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏.
- –ë–µ–∑ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (–æ—à–∏–±–∫–∞ Permission Denied).
- –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã WHOIS-–∑–∞–ø—Ä–æ—Å–æ–≤ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –¥–æ—Å—Ç—É–ø –∫ –≤–Ω–µ—à–Ω–∏–º –ø–æ—Ä—Ç–∞–º.

---

## üìù –í—ã–≤–æ–¥

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Å–ª–æ–≤–∏—è–º –∑–∞–¥–∞–Ω–∏—è:

‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É  
‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç IP, AS, —Å—Ç—Ä–∞–Ω—É –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞  
‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã  
‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π—Ç–µ.
