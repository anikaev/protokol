# Python DNS Server with Resolver and Cache

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π DNS-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Python, —Å–ø–æ—Å–æ–±–Ω—ã–π:
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å DNS-–∑–∞–ø—Ä–æ—Å—ã –ø–æ UDP
- –†–∞–∑—Ä–µ—à–∞—Ç—å –∏–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä (198.41.0.4)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (–≤ `cach.txt`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å TTL –∏ —É–¥–∞–ª—è—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–ø–∏—Å–∏
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É DNS-–æ—Ç–≤–µ—Ç –≤ –±–∏–Ω–∞—Ä–Ω–æ–º –≤–∏–¥–µ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `SERVERS.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π DNS-–∑–∞–ø—Ä–æ—Å—ã
- `Messages.py` ‚Äî —Å–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑–±–æ—Ä DNS-—Å–æ–æ–±—â–µ–Ω–∏–π
- `Header.py`, `Questions.py`, `Answers.py` ‚Äî —Ä–∞–∑–±–æ—Ä –∏ —É–ø–∞–∫–æ–≤–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ–∫—Ü–∏–π DNS
- `DNS_EXCEPTIONS.py` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `cach.txt` ‚Äî –∫—ç—à DNS-–∑–∞–ø–∏—Å–µ–π
- `logs.txt` ‚Äî –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.7+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: `socket`, `pickle`, `time`, `threading`, `random`

---

## üöÄ –ó–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç `53` —Å–≤–æ–±–æ–¥–µ–Ω (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ –≤ `SERVERS.py`)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ DNS-—Å–µ—Ä–≤–µ—Ä:

```bash
python SERVERS.py
```

3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ DNS-–∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ `dig` –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–ª–∏–µ–Ω—Ç –Ω–∞ `localhost:53`

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç UDP-–∑–∞–ø—Ä–æ—Å
- –ü—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç –≤ –∫—ç—à–µ
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É DNS-—Å–µ—Ä–≤–µ—Ä—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à —Å —É—á—ë—Ç–æ–º TTL
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π DNS-–æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É

---

## üõ† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ DNS-–ø–∞–∫–µ—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∏–ø—ã A, NS, AAAA, SOA, –∏ –¥—Ä—É–≥–∏–µ
- –ß–∏—Ç–∞–µ—Ç –∏ –ø–∏—à–µ—Ç –∫—ç—à –≤ —Ñ–∞–π–ª, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∫—É —Å–∂–∞—Ç—ã—Ö DNS-–∏–º–µ–Ω (—Å –ø–æ–º–æ—â—å—é offset'–æ–≤)

---

## üîí –ò—Å–∫–ª—é—á–µ–Ω–∏—è

- `DNS_NAME_EXCEPTION` ‚Äî –∏–º—è –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- `DNS_TIME_OUT_EXCEPTION` ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –≤–æ–≤—Ä–µ–º—è
- `DNS_NOT_IMPLEMENT_EXCEPTION` ‚Äî –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞

---

–ê–≤—Ç–æ—Ä: [–£–∫–∞–∂–∏ –∏–º—è –∏–ª–∏ –Ω–∏–∫]  
–õ–∏—Ü–µ–Ω–∑–∏—è: MIT